<!doctype html>
<html lang="pl,en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Ubuntu&display=swap" rel="stylesheet"> 
    <link href="https://fonts.googleapis.com/css?family=Noto+Serif&display=swap" rel="stylesheet">

	  <link rel="title icon" href="/img/favicon.ico" />
    <link rel="stylesheet" href="/css/main_style.css">
    <link rel="stylesheet" href="css/editor_style.css">

    <title>Ciekawi Historii?</title>
  </head>
  <body>
    <!-- menu -->
    <nav class="navbar navbar-expand-md navbar-light sticky-top myNav">
      <a href="/index.html" class="navbar-brand"><i class="fas fa-atlas fa-2x text-white"></i></a>
      <button type="button" class="navbar-toggler py-2" data-toggle="collapse" data-target="#nav" id="navToggleButton" ><i class="fas fa-bars text-light fa-lg"></i><i class="fas fa-times text-success fa-lg collapse"></i></button>  
      <div class="collapse navbar-collapse justify-content-between" id="nav">
        <ul class="navbar-nav">
          <!-- drop down menu -->
          <li class="nav-item myNavItem dropdown"><a class="nav-link dropdown-toggle text-light px-3" role="button" data-toggle="dropdown" href="#" id="navDropdown">Epoki</a>
            <div class="dropdown-menu myNavDropdown" aria-labelledby="navDropdown">
              <a class="dropdown-item text-light myDopdownItem" href="/articles/#antiquity">Starożytność</a>
              <a class="dropdown-item text-light myDopdownItem" href="/articles/#medieval">Średniowiecze</a>
              <a class="dropdown-item text-light myDopdownItem" href="/articles/#modern">Nowożytność</a>
              <a class="dropdown-item text-light myDopdownItem" href="/articles/#present-day">Czasy współczesne</a>
          </div>
          </li>
          <!-- end drop down menu -->
          <li class="nav-item myNavItem"><a class="nav-link text-light px-3" href="#">Dodaj Artykuł</a></li>
          <li class="nav-item myNavItem"><a class="nav-link text-light px-3" href="/index.html">O Nas</a></li>
          <li class="nav-item myNavItem"><a class="nav-link text-light px-3" href="/contact">Kontakt</a></li>
        </ul>
        <span class="d-md-flex">
          <form class="form-inline" action="/articles/" method="GET">
            <div class="input-group">
                <input class="form-control" id="inputSearch" type="text" placeholder="szukaj..." name="search">
                <div class="input-group-append">
                    <button type="submit" class="btn text-muted" id="myBtnSearch" ><i class="fas fa-search myIconSearch"></i></button>
                </div>
            </div>
          </form>
        <a href="/user/login" class="nav-link ml-2 myMnuUserItem" id="btnLogIn" hidden data-toggle="tooltip" data-html="true" title="<h6> Zaloguj się lub utwórz konto </h6>"><i class="fas fa-sign-in-alt text-success fa-lg"></i></a>
        <div class="btn-group myMnuUserItem ml-2" id="btnMnuUser" hidden>
          <a class="btn dropdown-toggle text-light" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="fas fa-user text-info fa-lg mr-1"></i></a>
          <div class="dropdown-menu dropdown-menu-md-right myNavDropdown">
            <a class="dropdown-item text-light myMnuUserItem" href="/user">Twoje konto</a>
            <a class="dropdown-item text-light myMnuUserItem" href="/user/#navArticles" >Twoje artykuły</a>
            <a class="dropdown-item text-light myMnuUserItem" href="#" id="mnuLogOut"><i class="fas fa-sign-out-alt text-danger fa-lg mr-2"></i>Wyloguj</a>
          </div>
        </div>
        </span>
      </div>
    </nav>
    <!-- end menu -->

    <!-- Zawartość strony -->
    <section class="mainSection">
      <!-- prawy kontener -->
      <div class="mySidebarRight container-fluid">
        <div class="mySidebarContent" id="lastArticles"></div>
      </div>

      <!-- Dodaj artykuł -->
      <div class="container-fluid myContainer">
        <div class="row">
          <div class="col-md-8">
            <h2 class="font-weight-bold py-4">Dodaj artykuł</h2>
            <div id="anonymousUserInfo" hidden>
              <p>Muisz się zalogować do serwisu aby móc dodawać artykuły. Jeśli nie masz konta, możesz je szybko utworzyć.</p>
              <a href="/user/login" class="btn btn-outline-success mt-3">Zaloguj się lub utwórz konto <i class="fas fa-angle-double-right"></i></a>
            </div>
            <p class="text-justify border-bottom border-dark pb-2" id="loggedUserInfo" hidden>W poniższym formularzu możesz wypełnić poszczególne elementy niezbędne do publikacji artykułu. Określ temat ciekawostki historycznej, słowa kluczowe (tagi) wg których inni będę mogli wyszukać twój artykuł, oraz opisz ciekawostkę historyczną.
              Na końcu możesz zdecydować czy artykuł ma zostać opublikowany na naszej stronie czy też zapisany w wersji roboczej, niedostępny dla odwiedzających naszą stronę.
            </p>
            <form class="py-2 needs-validation" onsubmit="return saveArticle(event)" novalidate hidden>
              <div class="form-group row">
                <label for="artTitle" class="col-xl-2 col-lg-3  col-form-label pr-0 text-lg-right">Tytuł artykułu:</label>
                <div class="col-xl-10 col-lg-9">
                  <input type="text" class="form-control" id="artTitle" required>
                  <div class="invalid-feedback">Zatytułuj swój artykuł.</div>
                </div>
              </div>
              <div class="form-group row">
                <label for="artTags" class="col-xl-2 col-lg-3  col-form-label pr-0 text-lg-right">Tagi:</label>
                <div class="col-xl-10 col-lg-9">
                  <input type="text" class="form-control" id="artTags" required>
                  <small class="form-text text-muted">Wymień po przecinku hasła, wg których będzie można wyszukać Twój artykuł.</small>
                  <div class="invalid-feedback">Określ przynajmniej 1 hasło.</div>
                </div>
              </div>
              <div class="form-group row">
                <label for="artEra" class="col-xl-2 col-lg-3  col-form-label pr-0 text-lg-right">Epoka:</label>
                <div class="col-xl-10 col-lg-9">
                  <select class="custom-select rounded" id="artEra" required>
                    <option value="0" selected>Wskaż...</option>
                    <option>Starożytność</option>
                    <option>Średniowiecze</option>
                    <option>Nowożytność</option>
                    <option>Czasy współczesne</option>
                  </select>
                  <small class="form-text text-muted" id="eraInfo">Wskaż okres, którego dotyczy artykuł.</small>
                  <div class="invalid-feedback">Określ epokę.</div>
                </div>
                
              </div>
              <div class="form-group mt-4">
                <label for="artText">Treść artykułu</label>
                <div class="border border-secondary rounded pt-1 px-1">
                  <div class="btn-toolbar" id="eToolbar" role="toolbar">
                    <select class="rounded px-1 mr-2 mb-1" id="eTxtSize" data-toggle="tooltip" data-html="true" title="Styl tekstu">
                      <option class="p" value="p" selected>Normaly</option>
                      <option class="h1" value="h1">Nagłówek 1</option>
                      <option class="h2" value="h2">Nagłówek 2</option>
                      <option class="h3" value="h3">Nagłówek 3</option>
                      <option class="h4" value="h4">Nagłówek 4</option>
                      <option class="h5" value="h5">Nagłówek 5</option>
                      <option class="h6" value="h6">Nagłówek 6</option>
                    </select>
                    <div class="btn-group mr-2 mb-1" role="group">
                      <button type="button" id="eBold" class="btn btn-outline-dark px-2 py-0" data-toggle="tooltip" data-html="true" title="Pogrubienie"><i class="fas fa-bold"></i></button>
                      <button type="button" id="eItalic" class="btn btn-outline-dark px-2 py-0" data-toggle="tooltip" data-html="true" title="Kursywa"><i class="fas fa-italic"></i></button>
                      <button type="button" id="eUnderline" class="btn btn-outline-dark px-2 py-0" data-toggle="tooltip" data-html="true" title="Podkreślenie"><i class="fas fa-underline"></i></button>
                      <button type="button" id="eStrike" class="btn btn-outline-dark px-2 py-0" data-toggle="tooltip" data-html="true" title="Przekreślenie"><i class="fas fa-strikethrough"></i></button>
                    </div>
                    <div class="btn-group mr-2 mb-1" role="group">
                      <button type="button" id="eAlignLeft" class="btn btn-outline-dark px-2 py-0" data-toggle="tooltip" data-html="true" title="Wyrównaj do lewej"><i class="fas fa-align-left"></i></button>
                      <button type="button" id="eAlignCenter" class="btn btn-outline-dark px-2 py-0" data-toggle="tooltip" data-html="true" title="Wyśrodkuj"><i class="fas fa-align-center"></i></button>
                      <button type="button" id="eAlignRight" class="btn btn-outline-dark px-2 py-0" data-toggle="tooltip" data-html="true" title="Wyrównaj do prawej"><i class="fas fa-align-right"></i></button>
                      <button type="button" id="eJustify" class="btn btn-outline-dark px-2 py-0" data-toggle="tooltip" data-html="true" title="Wyjustuj"><i class="fas fa-align-justify"></i></button>
                    </div>
                    <div class="btn-group mr-2 mb-1" role="group">
                      <button type="button" id="eOList" class="btn btn-outline-dark px-2 py-0" data-toggle="tooltip" data-html="true" title="Lista uporządkowana"><i class="fas fa-list-ol"></i></button>
                      <button type="button" id="eUList" class="btn btn-outline-dark px-2 py-0" data-toggle="tooltip" data-html="true" title="Lista punktowa"><i class="fas fa-list-ul"></i></button>
                    </div>
                    <div class="btn-group mr-2 mb-1" role="group">
                      <button type="button" id="eClear" disabled class="btn btn-outline-dark px-2 py-0" data-toggle="tooltip" data-html="true" title="Usuń formatowanie"><i class="fas fa-eraser"></i></button>
                    </div>
                    <div class="btn-group mr-2 mb-1" role="group">
                      <button type="button" id="eCut" class="btn btn-outline-dark px-2 py-0" data-toggle="tooltip" data-html="true" title="Wytnij (Ctrl+X)"><i class="fas fa-cut"></i></button>
                      <button type="button" id="eCopy" class="btn btn-outline-dark px-2 py-0" data-toggle="tooltip" data-html="true" title="Kopiuj (Ctrl+C)"><i class="fas fa-copy"></i></button>
                      <button type="button" id="ePaste" class="btn btn-outline-dark px-2 py-0" data-toggle="tooltip" data-html="true" title="Wklej (Ctrl+V)"><i class="fas fa-paste"></i></button>
                    </div>
                    <div class="btn-group mr-2 mb-1" role="group">
                      <button type="button" id="eLink" class="btn btn-outline-dark px-2 py-0" data-toggle="tooltip" data-html="true" title="Odnośnik"><i class="fas fa-link"></i></button>
                    </div>
                  </div>
                </div>
                
                <div class="form-control mt-2 myEditor" id="editor" contenteditable> </div>
                <div class="invalid-feedback">Treść artukułu nie może być pusta.</div>
              </div>
              <div class="form-row mt-2 px-3 justify-content-between align-middle">
                <div class="form-group form-check px-2">
                  <input type="checkbox" class="form-check-input" id="artPublic">
                  <label class="form-check-label pointer" for="loginCheck" id="artPublicLabel">Opublikuj artykuł</label>
                </div>
                <button type="submit" class="btn px-4 py-1 btn-outline-primary" id="artSave">Zapisz</button>
              </div>
              <div class="form-group">
                <small class="form-text text-muted" id="artDateInfo"></small>
              </div>
            </form>
            <div class="row pl-3"><button class="btn btn-outline-secondary" id="clearFrm" hidden>Wyczyść formularz</button></div>
          </div>
        </div>
    </div>

  </section>
  <!-- okna modalne -->
  <!-- okno linku -->
  <div class="modal fade" id="modalLink">
    <div class="modal-dialog">
        <div class="modal-content myModal">
            <div class="modal-header">
                <h6 class="modal-title">Wprowadź odnośnik</h6>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
              <form class="needs-validation" novalidate>
                <div class="input-group mb-2">
                  <div class="input-group-prepend"><span class="input-group-text">Adres URL:</span></div>
                  <input type="text" class="form-control border-warning rounded" id="urlLink">
                  <div class="invalid-feedback">Określ adres odnośnika</div>
                </div>
                <div class="input-group mb-2">
                  <div class="input-group-prepend"><span class="input-group-text">Tekst:</span></div>
                  <input type="text" class="form-control rounded" id="urlText">
                </div>
                <div class="input-group mb-2">
                  <div class="input-group-prepend"><span class="input-group-text">Podpowiedź:</span></div>
                  <input type="text" class="form-control rounded" id="urlPrompt">
                </div>
              </form>
            </div>
            <div class="modal-footer ">
                <button type="button" class="btn btn-outline-primary myModal" data-dismiss="modal" onclick="editorInsertLink()">Zatwierdź</button>
                <button type="button" class="btn btn-outline-secondary myModal" data-dismiss="modal">Anuluj</button>
            </div>
        </div>
    </div>
  </div>

  <!-- footer -->
  <footer class="container-fluid bg-secondary py-3 myFooter">
    <div class="row ">
        <div class="col-6 text-center">
          <p class="text-light m-0">&copy 2020 CiekawiHistorii.pl - Made by Jakub Kruszyński & Paweł Jarosiewicz</p>
        </div>
        <div class="col-6 text-center">
            <a href="https://www.facebook.com/" target="_blank"><i class="fab fa-facebook fa-2x text-primary mx-3"></i></a>
            <a href="https://www.twitter.com" target="_blank"><i class="fab fa-twitter fa-2x text-info mx-3"></i></a>
            <a href="https://www.youtube.com/" target="_blank"><i class="fab fa-youtube fa-2x text-danger mx-3"></i></a>
        </div>
    </div>
</footer>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    <!-- Font Awesome -->
    <script src="https://kit.fontawesome.com/7f7d0c035c.js" crossorigin="anonymous"></script>

    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/7.9.3/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.9.3/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.9.3/firebase-auth.js"></script>
    <script src="/scripts/init-firebase.js"></script>

    <!-- własne skrypty -->
    <script src="/scripts/main_script.js" type="text/javascript"></script>
    <script src="script/edit_article_srcipt.js" type="text/javascript"></script>
  </body>
</html>